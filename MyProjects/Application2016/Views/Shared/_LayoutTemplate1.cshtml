@using Application2016.Helpers;
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta charset="utf-8" />
		<title>@ViewBag.Title</title>

		<meta name="description" content="top menu &amp; navigation" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

        <link rel="icon" href="@Url.Content("~/Assets/Images/home-default.png")">

		<!-- bootstrap & fontawesome -->
        <link href="@Url.Content("~/Assets/Template1/css/bootstrap.min.css")" rel="stylesheet" type="text/css" />
        <link href="@Url.Content("~/Assets/Template1/font-awesome/4.5.0/css/font-awesome.min.css")" rel="stylesheet" type="text/css" />
		
		<!-- page specific plugin styles -->

		<!-- text fonts -->
        <link href="@Url.Content("~/Assets/Template1/css/fonts.googleapis.com.css")" rel="stylesheet" type="text/css" />

		<!-- ace styles -->
        <link href="@Url.Content("~/Assets/Template1/css/ace.min.css")" rel="stylesheet" type="text/css" />

		<!--[if lte IE 9]>
            <link href="@Url.Content("~/Assets/Template1/css/ace-part2.min.css")" rel="stylesheet" type="text/css" />
		<![endif]-->
        @*<link href="@Url.Content("~/Assets/Template1/css/ace-skins.min.css")" rel="stylesheet" type="text/css" />*@
        <link href="@Url.Content("~/Assets/Template1/css/ace-rtl.min.css")" rel="stylesheet" type="text/css" />
        
		<!--[if lte IE 9]>
          <link href="@Url.Content("~/Assets/Template1/css/ace-ie.min.css")" rel="stylesheet" type="text/css" />
		<![endif]-->
        <link href="@Url.Content("~/Assets/Template1/css/skin.green.css")" rel="stylesheet" type="text/css" />
        <link href="@Url.Content("~/Assets/Template1/css/custom.css")" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" type="text/css" href="@Url.Content("~/Assets/Template1/css/bootstrap-datetimepicker.min.css")" />
        <style type="text/css">
            .field-validation-error {
            color: #e80c4d;
            font-weight: bold;
            }

            .field-validation-valid {
                display: none;
            }

            input.input-validation-error {
                border: 1px solid #e80c4d;
            }

            input[type="checkbox"].input-validation-error {
                border: 0 none;
            }

            .validation-summary-errors {
                color: #e80c4d;
                font-weight: bold;
                font-size: 1.1em;
            }

            .validation-summary-valid {
                display: none;
            }
        </style>
		<!-- inline styles related to this page -->

        <!--[if !IE]> -->
        <script src="@Url.Content("~/Assets/Template1/js/jquery-2.1.4.min.js")" type="text/javascript"></script>

		<!-- <![endif]-->

		<!-- ace settings handler -->
        <script src="@Url.Content("~/Assets/Template1/js/ace-extra.min.js")" type="text/javascript"></script>

		<!-- HTML5shiv and Respond.js for IE8 to support HTML5 elements and media queries -->

		<!--[if lte IE 8]>
        <script src="@Url.Content("~/Assets/Template1/js/html5shiv.min.js")" type="text/javascript"></script>
                <script src="@Url.Content("~/Assets/Template1/js/respond.min.js")" type="text/javascript"></script>
		<![endif]-->
        @if (TempData[AdminConfigs.TEMP_MESSAGE] != null)
            {
                <div class="modal face" id="message-admin" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                Thông báo
                            </div>
                            <div class="modal-body">
                                @TempData[AdminConfigs.TEMP_MESSAGE]
                            </div>
                            <div class="modal-footer">
                                <button type="button" id="btnOK" class="btn btn-default" data-dismiss="modal">OK</button>
                            </div>
                        </div>
                    </div>
                </div>
            <script type="text/javascript">
                jQuery(document).ready(function () {
                    // var urlRedirect = @TempData[AdminConfigs.TEMP_REDIRECT];
                    jQuery('#message-admin').modal("show");
                    if (urlRedirect != "") {
                        window.location = urlRedirect;
                    }
                });
            </script>
    
                TempData[AdminConfigs.TEMP_MESSAGE] = null;
                TempData[AdminConfigs.TEMP_REDIRECT] = null;
            }
	</head>

	<body class="skin-green">
		@Html.Partial("_BoxTopMenu")

		<div class="main-container ace-save-state" id="main-container">
			<script type="text/javascript">
			    try { ace.settings.loadState('main-container') } catch (e) { }
			</script>

            @Html.Partial("_BoxSidebar")

			<div class="main-content">
                @RenderSection("MainContent", required: true)

                <div class="centered col-lg-12 col-offset-12 " style="background-color:#90EE90">
                @Html.Action("BoxLink", "Template1", new { @Position = 1 })
                </div>
			</div>


			@Html.Partial("_BoxFooter")



			<a href="#" id="btn-scroll-up" class="btn-scroll-up btn btn-sm btn-inverse">
				<i class="ace-icon fa fa-angle-double-up icon-only bigger-110"></i>
			</a>
		</div><!-- /.main-container -->

		<!-- basic scripts -->

		

		<!--[if IE]>
<script src="@Url.Content("~/Assets/Template1/js/jquery-1.11.3.min.js")" type="text/javascript"></script>
<![endif]-->
		<script type="text/javascript">
		    @*if ('ontouchstart' in document.documentElement) document.write("<script src=@Url.Content("~/Assets/Template1/js/jquery.mobile.custom.min.js")></script>");*@
		</script>
        <script src="@Url.Content("~/Assets/Template1/js/bootstrap.min.js")" type="text/javascript"></script>
		
		<!-- page specific plugin scripts -->

		<!-- ace scripts -->
        <script src="@Url.Content("~/Assets/Template1/js/ace-elements.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Assets/Template1/js/ace.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Scripts/commonHelper.js")" type="text/javascript"></script>

        
       @*<script src="@Url.Content("~/Assets/Template1/js/moment.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Assets/Template1/js/bootstrap-timepicker.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Assets/Template1/js/daterangepicker.min.js")" type="text/javascript"></script>
        <script src="@Url.Content("~/Assets/Template1/js/bootstrap-datetimepicker.min.js")" type="text/javascript"></script>*@
		<!-- inline scripts related to this page -->
		<script type="text/javascript">
		    jQuery(function ($) {
		        var $sidebar = $('.sidebar').eq(0);
		        if (!$sidebar.hasClass('h-sidebar')) return;

		        $(document).on('settings.ace.top_menu', function (ev, event_name, fixed) {
		            if (event_name !== 'sidebar_fixed') return;

		            var sidebar = $sidebar.get(0);
		            var $window = $(window);

		            //return if sidebar is not fixed or in mobile view mode
		            var sidebar_vars = $sidebar.ace_sidebar('vars');
		            if (!fixed || (sidebar_vars['mobile_view'] || sidebar_vars['collapsible'])) {
		                $sidebar.removeClass('lower-highlight');
		                //restore original, default marginTop
		                sidebar.style.marginTop = '';

		                $window.off('scroll.ace.top_menu')
		                return;
		            }


		            var done = false;
		            $window.on('scroll.ace.top_menu', function (e) {

		                var scroll = $window.scrollTop();
		                scroll = parseInt(scroll / 4); //move the menu up 1px for every 4px of document scrolling
		                if (scroll > 17) scroll = 17;


		                if (scroll > 16) {
		                    if (!done) {
		                        $sidebar.addClass('lower-highlight');
		                        done = true;
		                    }
		                }
		                else {
		                    if (done) {
		                        $sidebar.removeClass('lower-highlight');
		                        done = false;
		                    }
		                }

		                sidebar.style['marginTop'] = (17 - scroll) + 'px';
		            }).triggerHandler('scroll.ace.top_menu');

		        }).triggerHandler('settings.ace.top_menu', ['sidebar_fixed', $sidebar.hasClass('sidebar-fixed')]);

		        $(window).on('resize.ace.top_menu', function () {
		            $(document).triggerHandler('settings.ace.top_menu', ['sidebar_fixed', $sidebar.hasClass('sidebar-fixed')]);
		        });
		    });
		    function updateFollow(btn) {
		        var productId = btn.replace('btnFollow_', '');
		        jQuery.ajax({
		            type: 'POST',
		            async: false,
		            cache: false,
		            url: '@Url.Action("UpdateProductFollow", "Product")',
		            contentType: "application/json; charset=utf-8",
		            dataType: "json",
		            data: JSON.stringify({ productId: productId }),
		            success: function (data) {
		                // your code from above
		                alert(data.Text);
		                if (data.Value > 0) {
		                    window.location.reload(true);
		                } else if (data.Value) {

		                }
		            },
		            error: function (xhr, textStatus, error) {
		                console.log(xhr.statusText);
		                console.log(textStatus);
		                console.log(error);
		            }
		        });
		    }

		    function updateURLParameter(url, param, paramVal) {
		        var TheAnchor = null;
		        var newAdditionalURL = "";
		        var tempArray = url.split("?");
		        var baseURL = tempArray[0];
		        var additionalURL = tempArray[1];
		        var temp = "";

		        if (additionalURL) {
		            var tmpAnchor = additionalURL.split("#");
		            var TheParams = tmpAnchor[0];
		            TheAnchor = tmpAnchor[1];
		            if (TheAnchor)
		                additionalURL = TheParams;

		            tempArray = additionalURL.split("&");

		            for (var i = 0; i < tempArray.length; i++) {
		                if (tempArray[i].split('=')[0] != param) {
		                    newAdditionalURL += temp + tempArray[i];
		                    temp = "&";
		                }
		            }
		        }
		        else {
		            var tmpAnchor = baseURL.split("#");
		            var TheParams = tmpAnchor[0];
		            TheAnchor = tmpAnchor[1];

		            if (TheParams)
		                baseURL = TheParams;
		        }

		        if (TheAnchor)
		            paramVal += "#" + TheAnchor;
		        var rows_txt = temp + "" + param + "=" + paramVal;
		        return baseURL + "?" + newAdditionalURL + rows_txt;
		    }
		</script>
	</body>
</html>
